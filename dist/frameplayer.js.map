{"version":3,"file":"frameplayer.js","sources":["../src/main.js","../src/debug.js","../src/frame.js","../src/player.js"],"names":["window","frameplayer","FP","debug","enabled","log","caller","items","this","execConsoleFunc","info","warn","error","method","console","methods","i","length","args","x","push","apply","frame","frameUrl","base","$FP","url","loaded","__construct","load","deferred","$","Deferred","img","Image","onload","resolve","onerror","src","promise","getUrl","isLoaded","arguments","player","options","frameRate","domElement","canvasClass","scrubberClass","coverImg","renderMode","bufferSize","loop","autoPlay","autoLoad","frames","onReady","onLoadStart","onLoadStop","onLoadProgress","lastFrameLoaded","totalFrames","percentageLoaded","onLoadComplete","onPlay","onBufferStart","onBufferStop","onStop","onEnterFrame","currentFrame","onExitFrame","onLoop","onReset","ready","playerState","loaderState","element","canvas","scrubber","extend","setFrames","first","find","renderUrl","goToFrame","call","play","clearFrames","addFrames","addFrame","frameNumber","renderFrame","css","html","requiresBuffer","actualBufferSize","configuredBufferSize","substr","Math","ceil","parseInt","doPlay","buffer","percentagePlayed","width","frameDelay","setTimeout","stop","addClass","doBuffer","bufferStop","startFrame","doLoad","calcPercentLoaded","done","loadStop","removeClass","getPlayerState","getLoaderState","getCurrentFrame","getNumFrames","reset","removeAttr","empty"],"mappings":"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"}