{"version":3,"file":"frameplayer.js","sources":["../src/main.js","../src/debug.js","../src/frame.js","../src/player.js"],"names":["window","frameplayer","FP","debug","enabled","log","caller","items","this","execConsoleFunc","info","warn","error","method","console","methods","i","length","args","x","push","apply","frame","frameUrl","base","$FP","url","loaded","__construct","load","deferred","$","Deferred","img","Image","onload","resolve","src","promise","getUrl","isLoaded","arguments","player","options","frameRate","domElement","canvasClass","scrubberClass","coverImg","renderMode","bufferSize","loop","autoPlay","autoLoad","frames","onReady","onLoadStart","onLoadStop","onLoadProgress","onLoadComplete","onPlay","onBufferStart","onBufferStop","onStop","onEnterFrame","onExitFrame","onLoop","onReset","ready","playerState","loaderState","currentFrame","lastFrameLoaded","element","canvas","scrubber","extend","setFrames","first","find","goToFrame","renderUrl","call","play","clearFrames","addFrames","addFrame","frameNumber","renderFrame","css","requiresBuffer","actualBufferSize","configuredBufferSize","substr","Math","ceil","parseInt","doPlay","buffer","totalFrames","percentagePlayed","width","frameDelay","setTimeout","stop","doBuffer","bufferStop","startFrame","doLoad","calcPercentLoaded","done","percentageLoaded","loadStop","getPlayerState","getLoaderState","getCurrentFrame","reset"],"mappings":"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"}