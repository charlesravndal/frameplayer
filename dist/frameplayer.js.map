{"version":3,"file":"frameplayer.js","sources":["../src/main.js","../src/debug.js","../src/frame.js","../src/player.js"],"names":["window","frameplayer","FP","debug","enabled","log","caller","items","this","execConsoleFunc","info","warn","error","method","console","methods","i","length","args","x","push","apply","frame","frameUrl","base","$FP","url","loaded","__construct","load","deferred","$","Deferred","img","Image","onload","resolve","onerror","src","promise","getUrl","isLoaded","arguments","player","options","frameRate","domElement","canvasClass","scrubberClass","coverImg","renderMode","bufferSize","loop","autoPlay","autoLoad","frames","onReady","onLoadStart","onLoadStop","onLoadProgress","lastFrameLoaded","totalFrames","percentageLoaded","onLoadComplete","onPlay","onBufferStart","onBufferStop","onStop","onEnterFrame","currentFrame","onExitFrame","onLoop","onReset","ready","playerState","loaderState","element","canvas","scrubber","playerTimeout","extend","setFrames","first","find","renderUrl","goToFrame","call","play","clearFrames","addFrames","addFrame","frameNumber","renderFrame","css","html","requiresBuffer","actualBufferSize","configuredBufferSize","substr","Math","ceil","parseInt","getNumFrames","doPlay","buffer","percentagePlayed","width","frameDelay","clearTimeout","setTimeout","stop","addClass","doBuffer","bufferStop","startFrame","doLoad","calcPercentLoaded","done","loadStop","removeClass","getPlayerState","getLoaderState","getCurrentFrame","reset","removeAttr","empty"],"mappings":"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"}