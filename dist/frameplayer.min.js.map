{"version":3,"file":"frameplayer.min.js","sources":["../src/main.js","../src/debug.js","../src/frame.js","../src/player.js"],"names":["window","frameplayer","FP","debug","enabled","log","caller","items","this","execConsoleFunc","info","warn","error","method","console","methods","i","length","args","x","push","apply","frame","frameUrl","base","$FP","url","loaded","__construct","load","deferred","$","Deferred","img","Image","onload","resolve","onerror","src","promise","getUrl","isLoaded","arguments","player","options","frameRate","domElement","canvasClass","scrubberClass","coverImg","bufferSize","loop","autoPlay","autoLoad","frames","onReady","onLoadStart","onLoadStop","onLoadProgress","lastFrameLoaded","totalFrames","percentageLoaded","onLoadComplete","onPlay","onBufferStart","onBufferStop","onStop","onEnterFrame","currentFrame","onExitFrame","onLoop","onReset","ready","playerState","loaderState","element","canvasContainer","canvas","canvasContext","canvasImg","scrubber","playerTimeout","extend","setFrames","first","find","document","createElement","width","height","getContext","append","renderUrl","call","play","clearFrames","addFrames","addFrame","goToFrame","frameNumber","renderFrame","drawImage","requiresBuffer","configuredBufferSize","actualBufferSize","substr","Math","ceil","parseInt","getNumFrames","buffer","doPlay","percentagePlayed","frameDelay","clearTimeout","setTimeout","stop","addClass","doBuffer","bufferStop","startFrame","doLoad","calcPercentLoaded","done","loadStop","removeClass","getPlayerState","getLoaderState","getCurrentFrame","reset","removeAttr"],"mappings":"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"}