{"version":3,"file":"frameplayer.min.js","sources":["../src/main.js","../src/debug.js","../src/frame.js","../src/player.js"],"names":["window","frameplayer","FP","debug","enabled","log","caller","items","this","execConsoleFunc","info","warn","error","method","console","methods","i","length","args","x","push","apply","frame","frameUrl","base","$FP","url","loaded","__construct","load","deferred","$","Deferred","img","Image","onload","resolve","onerror","src","promise","getUrl","isLoaded","arguments","player","options","frameRate","domElement","canvasClass","scrubberClass","coverImg","renderMode","bufferSize","loop","autoPlay","autoLoad","frames","onReady","onLoadStart","onLoadStop","onLoadProgress","lastFrameLoaded","totalFrames","percentageLoaded","onLoadComplete","onPlay","onBufferStart","onBufferStop","onStop","onEnterFrame","currentFrame","onExitFrame","onLoop","onReset","ready","playerState","loaderState","element","canvas","scrubber","extend","setFrames","first","find","renderUrl","goToFrame","call","play","clearFrames","addFrames","addFrame","frameNumber","renderFrame","css","html","requiresBuffer","configuredBufferSize","actualBufferSize","substr","Math","ceil","parseInt","buffer","doPlay","percentagePlayed","width","frameDelay","setTimeout","stop","addClass","doBuffer","bufferStop","startFrame","doLoad","calcPercentLoaded","done","loadStop","removeClass","getPlayerState","getLoaderState","getCurrentFrame","getNumFrames","reset","removeAttr","empty"],"mappings":"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"}