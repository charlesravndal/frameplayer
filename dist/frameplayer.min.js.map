{"version":3,"file":"frameplayer.min.js","sources":["../src/main.js","../src/debug.js","../src/frame.js","../src/player.js"],"names":["window","frameplayer","FP","debug","enabled","log","caller","items","this","execConsoleFunc","info","warn","error","method","console","methods","i","length","args","x","push","apply","frame","frameUrl","base","$FP","url","loaded","__construct","load","deferred","$","Deferred","img","Image","onload","resolve","onerror","src","promise","getUrl","isLoaded","arguments","player","options","frameRate","domElement","canvasClass","scrubberClass","coverImg","bufferSize","loop","autoPlay","autoLoad","playerWidth","playerHeight","frames","onReady","onLoadStart","onLoadStop","onLoadProgress","lastFrameLoaded","totalFrames","percentageLoaded","onLoadComplete","onPlay","onBufferStart","onBufferStop","onStop","onFinish","onEnterFrame","currentFrame","onExitFrame","onLoop","onReset","ready","playerState","loaderState","element","canvasContainer","canvas","canvasContext","canvasImg","scrubber","playerTimeout","extend","setFrames","first","find","document","createElement","getContext","append","setPlayerSize","renderUrl","call","startAnimationLoop","clearFrames","addFrames","addFrame","goToFrame","frameNumber","renderFrame","drawImage","width","height","requiresBuffer","configuredBufferSize","actualBufferSize","substr","Math","ceil","parseInt","play","getNumFrames","buffer","frameDelay","timeOld","timeNew","timeDiff","percentagePlayed","Date","now","processFrame","requestAnimationFrame","stop","addClass","doBuffer","setTimeout","bufferStop","startFrame","doLoad","calcPercentLoaded","done","loadStop","removeClass","getPlayerState","getLoaderState","getCurrentFrame","reset","removeAttr"],"mappings":"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"}