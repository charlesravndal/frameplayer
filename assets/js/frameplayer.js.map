{"version":3,"file":"frameplayer.js","sources":["../src/main.js","../src/debug.js","../src/frame.js","../src/player.js"],"names":["window","frameplayer","FP","debug","enabled","log","caller","items","this","execConsoleFunc","info","warn","error","method","console","methods","i","length","args","x","push","apply","frame","frameUrl","base","$FP","url","loaded","__construct","load","deferred","$","Deferred","img","Image","onload","resolve","src","promise","getUrl","isLoaded","arguments","player","options","frameRate","domElement","canvasClass","scrubberClass","coverImg","renderMode","bufferSize","loop","autoPlay","autoLoad","frames","onReady","onLoadStart","onLoadStop","onLoadProgress","onLoadComplete","onPlay","onBufferStart","onBufferStop","onStop","onEnterFrame","onExitFrame","onLoop","onReset","ready","playerState","loaderState","currentFrame","lastFrameLoaded","element","canvas","scrubber","extend","setFrames","first","find","goToFrame","renderUrl","call","play","clearFrames","addFrames","addFrame","frameNumber","renderFrame","css","html","requiresBuffer","actualBufferSize","configuredBufferSize","substr","Math","ceil","parseInt","doPlay","buffer","totalFrames","percentagePlayed","width","frameDelay","setTimeout","stop","doBuffer","bufferStop","startFrame","doLoad","calcPercentLoaded","done","percentageLoaded","loadStop","getPlayerState","getLoaderState","getCurrentFrame","reset","removeAttr","empty"],"mappings":"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"}